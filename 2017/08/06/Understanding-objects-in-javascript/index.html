<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Understanding objects in javascript · Rafael Pinheiro</title><meta name="author" content="Rafael Pinheiro"><meta name="description" content="I wrote this post for those who are already familiar with object-oriented programming, and the intention is to explain language-especific implementations.  Javascript deals with objects in a very loos">
<meta name="keywords" content="javascript,object-oriented,prototype,ES6">
<meta property="og:type" content="article">
<meta property="og:title" content="Understanding objects in javascript">
<meta property="og:url" content="http://skeptical-coder.js.org/2017/08/06/Understanding-objects-in-javascript/index.html">
<meta property="og:site_name" content="Rafael Pinheiro">
<meta property="og:description" content="I wrote this post for those who are already familiar with object-oriented programming, and the intention is to explain language-especific implementations.  Javascript deals with objects in a very loos">
<meta property="og:image" content="http://skeptical-coder.js.org/2017/08/06/Understanding-objects-in-javascript/main.png">
<meta property="og:updated_time" content="2017-08-13T05:23:34.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Understanding objects in javascript">
<meta name="twitter:description" content="I wrote this post for those who are already familiar with object-oriented programming, and the intention is to explain language-especific implementations.  Javascript deals with objects in a very loos">
<meta name="twitter:image" content="http://skeptical-coder.js.org/2017/08/06/Understanding-objects-in-javascript/main.png"><link rel="canonical" href="http://skeptical-coder.js.org/2017/08/06/Understanding-objects-in-javascript/"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css"><link rel="search" type="application/opensearchdescription+xml" href="http://skeptical-coder.js.org/atom.xml" title="Rafael Pinheiro"></head><body><div class="wrap"><header><h1><a href="/" title="Rafael Pinheiro" class="logo-link"><img src="/favicon.png" alt="Rafael Pinheiro"></a></h1><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://twitter.com/rbpinheiro" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/rbpinheiro" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Understanding objects in javascript</h1><div class="post-info">Aug 6, 2017 - 7 min. read</div><div class="post-content"><p>I wrote this post for those who are already familiar with object-oriented programming, and the intention is to explain language-especific implementations.</p>
<img src="/2017/08/06/Understanding-objects-in-javascript/main.png" alt="[ES6 classical syntax-sugar vs Prototype]" title="[ES6 classical syntax-sugar vs Prototype]">
<p>Javascript deals with objects in a very loose way, and the more time you spend working with it, more quirks you will find that you will need to get used to. What confuses most developers is how inheritance works, it’s very different than most languages.<br>ES6 introduced a more classical approach to inheritance and will probably be easier to understand if you are struggling.<br>I will show you the newly available classical approach and the regular way of doing it in javascript, then a few other things you should know about objects.<br><a id="more"></a></p>
<h2 id="ES6-classical-syntax-sugar"><a href="#ES6-classical-syntax-sugar" class="headerlink" title="ES6 classical syntax-sugar"></a>ES6 classical syntax-sugar</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(type = 'Animal') &#123;</div><div class="line">    <span class="keyword">this</span>.type = type;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  printType() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.type);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">super</span>(<span class="string">'Cat'</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  meow() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'meow'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> animal = <span class="keyword">new</span> Animal();</div><div class="line"><span class="keyword">const</span> cat = <span class="keyword">new</span> Cat();</div><div class="line"></div><div class="line">animal.printType();</div><div class="line"><span class="comment">// "Animal"</span></div><div class="line"></div><div class="line">cat.printType();</div><div class="line"><span class="comment">// "Cat"</span></div><div class="line"></div><div class="line">cat.meow();</div><div class="line"><span class="comment">// "meow"</span></div><div class="line"></div><div class="line">animal.meow();</div><div class="line"><span class="comment">// TypeError: animal.meow is not a function</span></div></pre></td></tr></table></figure>
<p>It’s pretty straight forward if you are used to a classic inheritance model. The ‘class’ keyword is used to define a class that we can create new instances from. The ‘extends’ keyword is used to define inheritances, a way to use the previous class and add or modify stuff while keeping the original class untouched. The ‘new’ keyword is used to create a new instance of a class.<br>In most classic inheritance languages the instance is an object, and the class is something different, it’s just a blueprint for the instances. Javascript doesn’t really have the concept of a class in that sense. The ‘class’ keyword here will actually be creating a function with a prototype, and that’s why I said it’s a syntax-sugar.</p>
<h2 id="Prototype-way"><a href="#Prototype-way" class="headerlink" title="Prototype way"></a>Prototype way</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">type</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.type = type || <span class="string">'Animal'</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Animal.prototype.printType = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.type);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">type</span>) </span>&#123;</div><div class="line">  Animal.call(<span class="keyword">this</span>, <span class="string">'Cat'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">Cat.prototype = <span class="built_in">Object</span>.create(Animal.prototype);</div><div class="line"></div><div class="line">Cat.prototype.meow = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'meow'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> animal = <span class="keyword">new</span> Animal();</div><div class="line"><span class="keyword">const</span> cat = <span class="keyword">new</span> Cat();</div><div class="line"></div><div class="line">animal.printType();</div><div class="line"><span class="comment">// 'Animal'</span></div><div class="line"></div><div class="line">cat.printType();</div><div class="line"><span class="comment">// 'Cat'</span></div><div class="line"></div><div class="line">cat.meow();</div><div class="line"><span class="comment">// 'meow'</span></div><div class="line"></div><div class="line">animal.meow();</div><div class="line"><span class="comment">// Error TODO</span></div></pre></td></tr></table></figure>
<p>Javascript uses a prototypal inheritance method, so instead of using a ‘class’, it uses a ‘prototype’ property attached to a function. The ‘new’ keyword creates a new object using as blueprint the function’s prototype and using the function it self as the constructor.<br>A few things might look weird here if you are used to a more classic approach:</p>
<ul>
<li>A function can use the ‘this’ keyword to read and write properties onto itself, just like an object would. And that is because functions are objects too, in fact they are an instance of the ‘Function’ object;</li>
<li>Instead of the ‘super’ keyword, we use a ‘call’ method present on the function to execute the parent constructor. The first argument will be the instance it will modify, we use the ‘this’ keyword to pass the current function and all the next arguments will be just regular arguments you would pass to the parent function;</li>
<li>You can assign a function to a property or variable, actually you can even pass it around as a function’s argument. This is because javascript treats function as a first class citizen, meaning that functions are handled like a string, a number or an object. This is pretty straight-forward in javascript because functions are already objects anyway;</li>
<li>Also, you don’t need to name your functions. You can just create an anonymous function and assign it to a variable or do whatever you would do to an object.<br>Besides inheritance there a few other things you could do to objects in javascript.</li>
</ul>
<h2 id="Literal-object"><a href="#Literal-object" class="headerlink" title="Literal object"></a>Literal object</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> cat = &#123;</div><div class="line">  <span class="attr">type</span>: <span class="string">'Cat'</span>,</div><div class="line">  <span class="attr">meow</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'meow'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>You can just create an object without a blueprint if you want. The syntax is pretty simple, not much explaining to do.<br>If you got ES6 enabled you can write the function in a cleaner way.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> cat = &#123;</div><div class="line">  <span class="attr">type</span>: <span class="string">'Cat'</span>,</div><div class="line">  meow() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'meow'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Self-constructing-object"><a href="#Self-constructing-object" class="headerlink" title="Self-constructing object"></a>Self-constructing object</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> Cat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.type = <span class="string">'Cat'</span>;</div><div class="line">  <span class="keyword">this</span>.meow = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'meow'</span>);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">privateMethod</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Does some private stuff</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> cat = Cat();</div></pre></td></tr></table></figure>
<p>Using the fact that functions are objects we can use the function itself as a constructor and blueprint. Each function call will actually create a new instance.<br>Since the body of a function is a separate scope, the ‘privateMethod’ function will not be acessible outside of the main function. Everything attached to ‘this’ will be public.</p>
<h2 id="Reveal-pattern"><a href="#Reveal-pattern" class="headerlink" title="Reveal pattern"></a>Reveal pattern</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> cat = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">meow</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'meow'</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">privateMethod</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Does some private stuff</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">type</span>: <span class="string">'Cat'</span>,</div><div class="line">    <span class="attr">meow</span>: meow,</div><div class="line">  &#125;;</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<p>Pretty similar to the previous one, but by creating a new literal object instead of using the function itself we will end up with a cleaner object.<br>Instead of defining and saving the blueprint in a variable ‘Cat’, I just created an imediately-invoked function expression (IIFE for short). You can do that by adding ‘()’ after the function body. It just means that you will execute that function right after it was created.</p>
<h2 id="Module-Revealing-Pattern"><a href="#Module-Revealing-Pattern" class="headerlink" title="Module Revealing Pattern"></a>Module Revealing Pattern</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> Animals = &#123;&#125;;</div><div class="line"></div><div class="line">Animals.cat = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">meow</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'meow'</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">privateMethod</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Does some private stuff</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">type</span>: <span class="string">'Cat'</span>,</div><div class="line">    <span class="attr">meow</span>: meow,</div><div class="line">  &#125;;</div><div class="line">&#125;)();</div><div class="line"></div><div class="line">Animals.dog = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">woof</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'woof'</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">privateMethod</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Does some private stuff</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">type</span>: <span class="string">'Dog'</span>,</div><div class="line">    <span class="attr">woof</span>: woof,</div><div class="line">  &#125;;</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<p>This pattern builds up on the previous one.<br>We are just gathering the objects on a centralyzing literal object. On this example I already created a standalone cat object, but you could create a function or prototype blueprint and reveal that so you can create as many instances as you want.<br>This pattern is losing some relevance as ES6 becomes more popular because of the import and export features that were added enabling a module per file.<br>It is especially useful if your are using an ES5 envorinment where every variable created outside of a function (or even inside if you don’t use ‘var’ or ‘const’), is global to the whole project and to every other script that will be loaded, third-part or not.<br>This way you can build a big project without poluting the global escope, you could just create an ‘app’ object and use this pattern to populate it with a deep tree-like structure composed by modules.</p>
<p>Those are, I believe, the most important aspects of dealing with objects in javascript.<br>Still find something hard to understand?<br>Did I miss anything important?<br>Comments are below!</p>
</div></article></div></main><footer><div class="paginator"><a href="/2016/04/08/Review-your-code/" class="next"><span class="label">Review your code</span><div class="img_wrapper"><img src="/2016/04/08/Review-your-code/code-review.gif" alt="Review your code" class="post_img"></div></a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'blog-pq9sn2ksel';
var disqus_identifier = '2017/08/06/Understanding-objects-in-javascript/';
var disqus_title = 'Understanding objects in javascript';
var disqus_url = 'http://skeptical-coder.js.org/2017/08/06/Understanding-objects-in-javascript/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//blog-pq9sn2ksel.disqus.com/count.js" async></script><!-- Begin MailChimp Signup Form--><style type="text/css">#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */</style><div id="mc_embed_signup"><form id="mc-embedded-subscribe-form" action="//github.us16.list-manage.com/subscribe/post?u=85858e882702a71817b298978&amp;id=3859205e35" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate="" class="validate"><div id="mc_embed_signup_scroll"><label for="mce-EMAIL">Subscribe to know when a new post is available (no spam :)</label><input id="mce-EMAIL" type="email" value="" name="EMAIL" placeholder="email address" required="" class="email"><!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_85858e882702a71817b298978_3859205e35" tabindex="-1" value=""></div><div class="clear"><input id="mc-embedded-subscribe" type="submit" value="Subscribe" name="subscribe" class="button"></div></div></form></div><!-- End mc_embed_signup--><div class="copyright"><p>powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a></p></div></footer></div><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-104159899-1",'auto');ga('send','pageview');</script></body></html>